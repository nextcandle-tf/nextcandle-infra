# =============================================================================
# Docker Swarm Infrastructure - 환경 변수
# =============================================================================
# 이 파일을 .env로 복사하세요:
#   cp .env.example .env
#
# 비밀번호, 토큰 등 민감 정보는 secrets/secrets.yml에서 관리합니다.
# =============================================================================

# ---------------------------------------------------------------------------
# 프로젝트 설정
# ---------------------------------------------------------------------------
PROJECT_NAME=nextcandle

# ---------------------------------------------------------------------------
# 도메인 설정
# ---------------------------------------------------------------------------
DOMAIN_DEV=dev.nextcandle.io
DOMAIN_STG=stg.nextcandle.io
DOMAIN_PROD=www.nextcandle.io

# 공유 서비스 도메인
DOMAIN_N8N=n8n.nextcandle.io

# ---------------------------------------------------------------------------
# 포트 설정 (로컬 개발용)
# ---------------------------------------------------------------------------
# PostgreSQL
POSTGRES_PORT_DEV=5432
POSTGRES_PORT_STG=5433
POSTGRES_PORT_PROD=5434

# Redis
REDIS_PORT_DEV=6379
REDIS_PORT_STG=6380
REDIS_PORT_PROD=6381

# 공유 서비스
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
GRAFANA_PORT=23000
PROMETHEUS_PORT=9090

# ---------------------------------------------------------------------------
# Cloudflare Tunnel (외부 서비스 토큰 - 자동 생성 불가)
# ---------------------------------------------------------------------------
# https://one.dash.cloudflare.com/ → Access → Tunnels → 토큰 복사
CLOUDFLARE_TUNNEL_TOKEN=your-tunnel-token-here

# ---------------------------------------------------------------------------
# Hugging Face (외부 서비스 토큰 - 자동 생성 불가)
# ---------------------------------------------------------------------------
# https://huggingface.co/settings/tokens → Create new token → 복사
HUGGING_FACE_TOKEN=your-hugging-face-token-here

# ---------------------------------------------------------------------------
# GitHub Self-hosted Runner (외부 서비스 토큰 - 자동 생성 불가)
# ---------------------------------------------------------------------------
# https://github.com/{owner}/{repo}/settings/actions/runners/new
# "Configure" 버튼 클릭 → 토큰 복사
# 주의: 토큰은 1시간 동안만 유효합니다!
GITHUB_OWNER=your-github-owner-here
RUNNER_TOKEN=your-runner-token-here
RUNNER_REPLICAS=1

# ---------------------------------------------------------------------------
# Supabase (Portal/Auth 서비스용 - 외부 서비스)
# ---------------------------------------------------------------------------
# https://app.supabase.com/project/{project}/settings/api 에서 확인
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ---------------------------------------------------------------------------
# Auth Hooks Secrets (Auth 서비스용 - Supabase Dashboard에서 생성)
# ---------------------------------------------------------------------------
# https://supabase.com/dashboard/project/{project}/auth/hooks 에서 설정
# 각 Hook의 "Webhook Secret" 값을 복사하세요
AUTH_HOOK_SECRET_CUSTOM_ACCESS_TOKEN=your-custom-access-token-hook-secret
AUTH_HOOK_SECRET_BEFORE_USER_CREATED=your-before-user-created-hook-secret
